webpackJsonp([1],{NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")({name:"App"},s,!1,function(e){a("gsu9")},null,null).exports,i=a("/ocq"),r=a("mtWM"),d=a.n(r),p={name:"EmotionsDashboard",data:function(){return{video:{},canvas:{},captures:[],sad:"",disgusted:"",angry:"",surprised:"",fearful:"",happy:""}},mounted:function(){var e=this;navigator.mediaDevices.getUserMedia({audio:!1,video:{width:1280,height:720}}).then(function(t){e.video=document.querySelector("video"),e.video.srcObject=t,e.video.onloadedmetadata=function(t){e.video.play()}})},methods:{captureAndAnalyze:function(){var e=this;e.canvas=e.$refs.canvas;e.canvas.getContext("2d").drawImage(e.video,0,0,640,480);e.captures.push(canvas.toDataURL("image/png"));e.captures;var t=new FormData;t.append("app_key","d08c791a788349a4bcfcaec6818a1c76"),t.append("url","https://media4.s-nbcnews.com/j/newscms/2017_47/2233721/171120-smile-stock-njs-333p_4ecd5b9a2aefbfdfbc3331c6d474d963.fit-2000w.jpg"),d.a.post("https://api-face.sightcorp.com/api/detect/",t).then(function(t){var a,n,s,o,i,r;e.output=t.data,console.log(t),e.sad=t.data.people[0].emotions.sadness,e.disgusted=t.data.people[0].emotions.disgust,e.angry=t.data.people[0].emotions.anger,e.surprised=t.data.people[0].emotions.surprise,e.fearful=t.data.people[0].emotions.fear,e.happy=t.data.people[0].emotions.happiness;var d=["Sadness","Disgust","Anger","Surprise","Fear","Happiness"],p=[e.sad,e.disgusted,e.angry,e.surprised,e.fearful,e.happy];var c;for((n=(a=document.getElementById("canvas2")).getContext("2d")).fillStyle="#000;",o=(a.height-50-10)/100,s=(a.width-60)/6,n.strokeStyle="#000;",n.beginPath(),n.font="19 pt Arial;",n.fillText("",2,40),n.font="20 pt Verdana",n.textBaseline="bottom",r=0;r<6;r++)c=p[r],i=a.height-c*o,n.fillText(d[r],s*(r+1),i-10);for(n.fillStyle="#9933FF;",n.shadowColor="rgba(128,128,128, 0.5)",n.shadowOffsetX=9,n.shadowOffsetY=3,n.translate(0,a.height-10),n.scale(s,-1*o),r=0;r<6;r++)n.fillRect(r+1,.5,.3,p[r])},function(e){console.log(e)})}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",[a("video",{ref:"video",attrs:{id:"video",width:"640",height:"480",autoplay:""}})]),e._v(" "),a("canvas",{ref:"canvas",attrs:{id:"canvas",width:"640",height:"480"}}),e._v(" "),e._m(0),e._v(" "),a("div",[a("button",{attrs:{id:"snap"},on:{click:function(t){e.captureAndAnalyze()}}},[e._v("Analyze Emotions")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("canvas",{attrs:{id:"canvas2",height:"400",width:"650"}})])}]};var u=a("VU/8")(p,c,!1,function(e){a("YjYt")},null,null).exports;n.a.use(i.a);var l=new i.a({routes:[{path:"/",name:"EmotionsDashboard",component:u}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:l,components:{App:o},template:"<App/>"})},YjYt:function(e,t){},gsu9:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.65c4286a0145f71ce448.js.map